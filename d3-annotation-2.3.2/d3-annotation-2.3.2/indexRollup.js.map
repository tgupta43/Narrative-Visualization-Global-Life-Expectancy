{"version":3,"file":"indexRollup.js","sources":["src/Annotation.js","src/AnnotationCollection.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/select.js","node_modules/d3-drag/node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-drag/node_modules/d3-selection/src/namespaces.js","node_modules/d3-drag/node_modules/d3-selection/src/namespace.js","node_modules/d3-drag/node_modules/d3-selection/src/creator.js","node_modules/d3-drag/node_modules/d3-selection/src/selector.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/select.js","node_modules/d3-drag/node_modules/d3-selection/src/selectorAll.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-drag/node_modules/d3-selection/src/matcher.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/filter.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/enter.js","node_modules/d3-drag/node_modules/d3-selection/src/constant.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/data.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/exit.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/join.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/merge.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/order.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/sort.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/call.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/node.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/size.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/empty.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/each.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/attr.js","node_modules/d3-drag/node_modules/d3-selection/src/window.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/style.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/property.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/classed.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/text.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/html.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/raise.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/lower.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/append.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/insert.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/remove.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/clone.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/datum.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/on.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-drag/node_modules/d3-selection/src/selection/index.js","node_modules/d3-drag/node_modules/d3-selection/src/select.js","node_modules/d3-drag/node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-drag/node_modules/d3-selection/src/point.js","node_modules/d3-drag/node_modules/d3-selection/src/mouse.js","node_modules/d3-drag/node_modules/d3-selection/src/touch.js","node_modules/d3-drag/src/noevent.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-drag/src/constant.js","node_modules/d3-drag/src/event.js","node_modules/d3-drag/src/drag.js","src/Handles.js","src/Note/alignment.js","node_modules/d3-path/src/path.js","node_modules/d3-shape/src/constant.js","node_modules/d3-shape/src/math.js","node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/curve/linear.js","node_modules/d3-shape/src/point.js","node_modules/d3-shape/src/line.js","node_modules/d3-shape/src/curve/cardinal.js","node_modules/d3-shape/src/curve/catmullRom.js","node_modules/d3-shape/src/curve/monotone.js","src/Builder.js","src/Note/lineType-vertical.js","src/Note/lineType-horizontal.js","src/Connector/type-line.js","src/Connector/type-elbow.js","src/Connector/type-curve.js","src/Connector/end-arrow.js","src/Connector/end-dot.js","src/Subject/circle.js","src/Subject/rect.js","src/Subject/threshold.js","src/Subject/badge.js","src/Types-d3.js","node_modules/d3-dispatch/src/dispatch.js","src/Adapter-d3.js","index.js"],"sourcesContent":["export default class Annotation {\n  constructor({\n    x = 0,\n    y = 0,\n    nx,\n    ny,\n    dy = 0,\n    dx = 0,\n    color = \"grey\",\n    data,\n    type,\n    subject,\n    connector,\n    note,\n    disable,\n    id,\n    className\n  }) {\n    this._dx = nx !== undefined ? nx - x : dx\n    this._dy = ny !== undefined ? ny - y : dy\n    this._x = x\n    this._y = y\n    this._color = color\n    this.id = id\n    this._className = className || \"\"\n\n    this._type = type || \"\"\n    this.data = data\n\n    this.note = note || {}\n    this.connector = connector || {}\n    this.subject = subject || {}\n\n    this.disable = disable || []\n  }\n\n  updatePosition() {\n    if (this.type.setPosition) {\n      this.type.setPosition()\n      if (\n        this.type.subject &&\n        this.type.subject.selectAll(\":not(.handle)\").nodes().length !== 0\n      ) {\n        this.type.redrawSubject()\n      }\n    }\n  }\n\n  clearComponents() {\n    this.type.clearComponents && this.type.clearComponents()\n  }\n\n  get className() {\n    return this._className\n  }\n\n  set className(className) {\n    this._className = className\n    if (this.type.setClassName) this.type.setClassName()\n  }\n\n  updateOffset() {\n    if (this.type.setOffset) {\n      this.type.setOffset()\n\n      if (this.type.connector.selectAll(\":not(.handle)\").nodes().length !== 0) {\n        this.type.redrawConnector()\n      }\n\n      this.type.redrawNote()\n    }\n  }\n\n  get type() {\n    return this._type\n  }\n\n  set type(type) {\n    this._type = type\n    this.clearComponents()\n  }\n\n  get x() {\n    return this._x\n  }\n  set x(x) {\n    this._x = x\n    this.updatePosition()\n  }\n\n  get y() {\n    return this._y\n  }\n  set y(y) {\n    this._y = y\n    this.updatePosition()\n  }\n\n  get color() {\n    return this._color\n  }\n  set color(color) {\n    this._color = color\n    this.updatePosition()\n  }\n\n  get dx() {\n    return this._dx\n  }\n  set dx(dx) {\n    this._dx = dx\n    this.updateOffset()\n  }\n\n  get dy() {\n    return this._dy\n  }\n  set dy(dy) {\n    this._dy = dy\n    this.updateOffset()\n  }\n\n  set nx(nx) {\n    this._dx = nx - this._x\n    this.updateOffset()\n  }\n\n  set ny(ny) {\n    this._dy = ny - this._y\n    this.updateOffset()\n  }\n\n  get offset() {\n    return { x: this._dx, y: this._dy }\n  }\n\n  set offset({ x, y }) {\n    this._dx = x\n    this._dy = y\n    this.updateOffset()\n  }\n\n  get position() {\n    return { x: this._x, y: this._y }\n  }\n\n  set position({ x, y }) {\n    this._x = x\n    this._y = y\n    this.updatePosition()\n  }\n\n  get translation() {\n    return {\n      x: this._x + this._dx,\n      y: this._y + this._dy\n    }\n  }\n\n  get json() {\n    const json = {\n      x: this._x,\n      y: this._y,\n      dx: this._dx,\n      dy: this._dy\n    }\n\n    if (this.data && Object.keys(this.data).length > 0) json.data = this.data\n    if (this.type) json.type = this.type\n    if (this._className) json.className = this._className\n\n    if (Object.keys(this.connector).length > 0) json.connector = this.connector\n    if (Object.keys(this.subject).length > 0) json.subject = this.subject\n    if (Object.keys(this.note).length > 0) json.note = this.note\n\n    return json\n  }\n}\n","export default class AnnotationCollection {\n\n  constructor ({ annotations, accessors, accessorsInverse }) {\n    this.accessors = accessors\n    this.accessorsInverse = accessorsInverse\n    this.annotations = annotations\n  }\n\n  clearTypes (newSettings) {\n    this.annotations.forEach(d => {\n      d.type = undefined\n      d.subject = newSettings && newSettings.subject || d.subject\n      d.connector = newSettings && newSettings.connector || d.connector\n      d.note = newSettings && newSettings.note || d.note\n    })\n  }\n\n  setPositionWithAccessors () {\n    this.annotations.forEach(d => {\n      d.type.setPositionWithAccessors(this.accessors)\n    })\n  }\n\n  editMode (editMode) { this.annotations.forEach(a => {\n    if (a.type) {\n      a.type.editMode = editMode\n      a.type.updateEditMode()\n    }\n  })\n  }\n\n  updateDisable (disable) {\n    this.annotations.forEach(a => {\n      a.disable = disable\n      if (a.type) {\n        disable.forEach(d => {\n          if (a.type[d]) {\n            a.type[d].remove && a.type[d].remove()\n            a.type[d] = undefined\n          }\n        })\n      }\n    })\n  }\n\n  updateTextWrap (textWrap) {\n    this.annotations.forEach(a => {\n      if (a.type && a.type.updateTextWrap) {\n        a.type.updateTextWrap(textWrap)\n      }\n    })\n  }\n\n  updateText () {\n    this.annotations.forEach(a => {\n      if (a.type && a.type.drawText) {\n        a.type.drawText()\n      }\n    })\n  }\n\n  updateNotePadding (notePadding) {\n    this.annotations.forEach(a => {\n      if (a.type) {\n        a.type.notePadding = notePadding\n      }\n    })\n  }\n\n  get json () { \n    return this.annotations.map(a => {      \n      const json = a.json\n      if (this.accessorsInverse && a.data) {\n        json.data = {}\n        Object.keys(this.accessorsInverse).forEach(k => {\n          json.data[k] = this.accessorsInverse[k]({ x: a.x, y: a.y})\n\n          //TODO make this feasible to map back to data for other types of subjects\n        })\n      }\n      return json\n    })\n  }\n\n  get noteNodes () {\n    return this.annotations.map(a => ({ ...a.type.getNoteBBoxOffset(), positionX: a.x, positionY: a.y }))\n  }\n\n  //TODO: come back and rethink if a.x and a.y are applicable in all situations\n  // get connectorNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getConnectorBBox(), startX: a.x, startY: a.y}))\n  // }\n\n  // get subjectNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getSubjectBBox(), startX: a.x, startY: a.y}))\n  // }\n\n  // get annotationNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getAnnotationBBox(), startX: a.x, startY: a.y}))\n  // }\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousemoving,\n      touchending;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    mousemoving = true;\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  return drag;\n}\n","import { select } from \"d3-selection\"\nimport { drag } from \"d3-drag\"\n\nexport const pointHandle = ({ cx = 0, cy = 0 }) => {\n  return { move: { x: cx, y: cy } }\n}\n\nexport const circleHandles = ({ cx = 0, cy = 0, r1, r2, padding }) => {\n  const h = { move: { x: cx, y: cy } }\n\n  if (r1 !== undefined) {\n    h.r1 = { x: cx + r1 / Math.sqrt(2), y: cy + r1 / Math.sqrt(2) }\n  }\n\n  if (r2 !== undefined) {\n    h.r2 = { x: cx + r2 / Math.sqrt(2), y: cy + r2 / Math.sqrt(2) }\n  }\n\n  if (padding !== undefined) {\n    h.padding = { x: cx + r1 + padding, y: cy }\n  }\n\n  return h\n}\n\nexport const rectHandles = ({\n  x1 = 0,\n  y1 = 0,\n  x2 = x1,\n  y2 = y1,\n  width,\n  height\n}) => {\n  const w = width || Math.abs(x2 - x1)\n  const h = height || Math.abs(y2 - y1)\n\n  return {\n    move: {\n      x: Math.min(x1, x2) + w / 2,\n      y: Math.min(y1, y2) - 10\n    },\n    width: {\n      x: Math.max(x1, x2),\n      y: Math.min(y1, y2) + h / 2\n    },\n    height: {\n      x: Math.min(x1, x2) + w / 2,\n      y: Math.max(y1, y2)\n    }\n  }\n}\n\nexport const lineHandles = ({ x1, y1, x2, y2, x, y }) => {\n  const minY = Math.min(y1, y2)\n  const minX = Math.min(x1, x2)\n\n  const height = Math.abs(y2 - y1)\n  const width = Math.abs(x2 - x1)\n\n  return {\n    move: {\n      x: x || minX + width / 2,\n      y: y || minY + height / 2\n    }\n  }\n}\n\n//arc handles\nexport const addHandles = ({ group, handles, r = 10 }) => {\n  //give it a group and x,y to draw handles\n  //then give it instructions on what the handles change\n  const h = group.selectAll(\"circle.handle\").data(handles)\n\n  h\n    .enter()\n    .append(\"circle\")\n    .attr(\"class\", \"handle\")\n    .attr(\"fill\", \"grey\")\n    .attr(\"fill-opacity\", 0.1)\n    .attr(\"cursor\", \"move\")\n    .attr(\"stroke-dasharray\", 5)\n    .attr(\"stroke\", \"grey\")\n    .call(\n      drag()\n        .container(select(\"g.annotations\").node())\n        .on(\"start\", d => d.start && d.start(d))\n        .on(\"drag\", d => d.drag && d.drag(d))\n        .on(\"end\", d => d.end && d.end(d))\n    )\n\n  group\n    .selectAll(\"circle.handle\")\n    .attr(\"cx\", d => d.x)\n    .attr(\"cy\", d => d.y)\n    .attr(\"r\", d => d.r || r)\n    .attr(\"class\", d => `handle ${d.className || \"\"}`)\n\n  h.exit().remove()\n}\n","\nexport const leftRightDynamic = (align, y) => {\n  if (align === \"dynamic\" || align === \"left\" || align === \"right\") {\n    if (y < 0) { align = \"top\" }\n    else { align = \"bottom\" } \n  }\n  return align\n}\n\nexport const topBottomDynamic = (align, x) => {\n  if (align === \"dynamic\" || align === \"top\" || align === \"bottom\") {\n    if (x < 0) { align = \"right\" }\n    else { align = \"left\" }      \n  }\n  return align\n}\n\nconst orientationTopBottom = [\"topBottom\", \"top\", \"bottom\"]\nconst orientationLeftRight = [\"leftRight\", \"left\", \"right\"]\n\nexport default ({ padding=0, bbox={x:0, y:0, width:0, height:0}, align, orientation, offset={x:0, y:0} }) => {\n  let x = -bbox.x \n  let y = 0//-bbox.y\n  if ( orientationTopBottom.indexOf(orientation) !== -1 ) {\n    align = topBottomDynamic(align, offset.x)\n    if (offset.y < 0 && orientation === \"topBottom\" || orientation === \"top\") { \n      y -= bbox.height + padding\n    } else {\n      y += padding\n    }\n\n    if ( align === \"middle\" ) {\n      x -= bbox.width/2\n    } else if (align === \"right\" ) {\n      x -= bbox.width\n    } \n\n  } else if ( orientationLeftRight.indexOf(orientation) !== -1 ) {\n    align = leftRightDynamic(align, offset.y)\n    if (offset.x < 0 && orientation === \"leftRight\" || orientation === \"left\") { \n      x -= bbox.width + padding\n    } else {\n      x += padding\n    }\n\n    if ( align === \"middle\" ) {\n      y -= bbox.height/2\n    } else if (align === \"top\" ) {\n      y -= bbox.height\n    }\n  } \n\n  return { x, y }\n}","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {epsilon, pi, halfPi, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = Math.abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * Math.cos(a0), r1 * Math.sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * Math.cos(a1), r0 * Math.sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : Math.sqrt(r0 * r0 + r1 * r1)),\n          rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * Math.sin(ap)),\n            p1 = asin(rp / r1 * Math.sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * Math.cos(a01),\n          y01 = r1 * Math.sin(a01),\n          x10 = r0 * Math.cos(a10),\n          y10 = r0 * Math.sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * Math.cos(a11),\n            y11 = r1 * Math.sin(a11),\n            x00 = r0 * Math.cos(a00),\n            y00 = r0 * Math.sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2),\n              lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [Math.cos(a) * r, Math.sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","import { line, arc, curveLinear } from \"d3-shape\"\n\nexport const lineBuilder = ({ data, curve=curveLinear, canvasContext, className, classID }) => { \n  const lineGen = line()\n    .curve(curve)\n\n  const builder = {\n    type: 'path',\n    className,\n    classID,\n    data\n  }\n\n  if (canvasContext) {\n    lineGen.context(canvasContext)\n    builder.pathMethods = lineGen\n\n  } else {\n    builder.attrs = {\n      d: lineGen(data)\n    }\n  }\n\n  return builder\n}\n\nexport const arcBuilder = ({ data, canvasContext, className, classID }) => {\n\n  const builder = {\n    type: 'path',\n    className,\n    classID,\n    data\n  }\n\n  const arcShape = arc()\n    .innerRadius(data.innerRadius || 0)\n    .outerRadius(data.outerRadius || data.radius || 2)\n    .startAngle(data.startAngle || 0)\n    .endAngle(data.endAngle || 2*Math.PI)\n\n  if (canvasContext) {\n    arcShape.context(canvasContext)\n    builder.pathMethods = lineGen\n\n  } else {\n    \n    builder.attrs = {\n      d: arcShape()\n    }\n  }\n\n  return builder\n}","import { lineBuilder } from '../Builder'\nimport { leftRightDynamic } from './alignment'\n\nexport default ({ align, x=0, y=0, bbox, offset }) => {\n  align = leftRightDynamic(align, offset.y)\n\n  if (align === \"top\") { y -= bbox.height } \n  else if (align === \"middle\") { y -= bbox.height/2 }\n\n  const data = [[x, y], [x, y + bbox.height]]\n  return { components: [lineBuilder({ data, className : \"note-line\" })] }\n}","import { lineBuilder } from '../Builder'\nimport { topBottomDynamic } from './alignment'\n\nexport default ({ align, x=0, y=0, offset, bbox }) => {\n  align = topBottomDynamic(align, offset.x)\n\n  if (align === \"right\") { x -= bbox.width }\n  else if (align === \"middle\") { x -= bbox.width/2 }\n\n  const data = [[x, y], [x + bbox.width, y]]\n  return { components: [lineBuilder({ data, className : \"note-line\" })] }\n}","import { lineBuilder } from '../Builder'\n\nexport const lineSetup = ({ type, subjectType }) => {\n  let annotation = type.annotation\n  let offset = annotation.position\n  \n  let x1 = annotation.x - offset.x,\n    x2 = x1 + annotation.dx,\n    y1 = annotation.y - offset.y,\n    y2 = y1 + annotation.dy\n\n\n  const subjectData = annotation.subject\n\n  if (subjectType === \"circle\" && (subjectData.outerRadius || subjectData.radius)) {\n    const h =  Math.sqrt((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2))\n    const angle = Math.asin(-y2/h)\n    const r = subjectData.outerRadius || subjectData.radius + (subjectData.radiusPadding || 0)\n\n    x1 = Math.abs(Math.cos(angle)*r)*(x2 < 0 ? -1 : 1)\n    y1 = Math.abs(Math.sin(angle)*r)*(y2 < 0 ? -1 : 1)\n\n  }\n\n  if (subjectType === \"rect\") {\n    const { width, height } = subjectData\n    \n    if (width > 0 && annotation.dx > 0 || width < 0 && annotation.dx < 0) {\n      if (Math.abs(width) > Math.abs(annotation.dx)) x1 = width/2\n      else x1 = width\n    } \n    if (height > 0 && annotation.dy > 0 || height < 0 && annotation.dy < 0) {\n      if (Math.abs(height) > Math.abs(annotation.dy)) y1 = height/2\n      else y1 = height\n    }\n    if (x1 === width/2 && y1 === height/2) { x1 = x2; y1 = y2;}\n  }\n\n\n  return [[x1, y1], [x2, y2]]\n}\n\nexport default (connectorData) => {\n  const data = lineSetup(connectorData)\n  return { components: [lineBuilder({ data, className : \"connector\" })]} \n}","import { lineBuilder } from '../Builder'\n\nexport default ({ type, subjectType }) => {\n\n  const annotation = type.annotation\n  const offset = annotation.position\n\n  let x1 = annotation.x - offset.x,\n    x2 = x1 + annotation.dx,\n    y1 = annotation.y - offset.y,\n    y2 = y1 + annotation.dy\n\n  const subjectData = annotation.subject\n\n  if (subjectType === \"rect\") {\n    const { width, height } = subjectData\n    \n    if (width > 0 && annotation.dx > 0 || width < 0 && annotation.dx < 0) {\n      if (Math.abs(width) > Math.abs(annotation.dx)) x1 = width/2\n      else x1 = width\n    } \n    if (height > 0 && annotation.dy > 0 || height < 0 && annotation.dy < 0) {\n      if (Math.abs(height) > Math.abs(annotation.dy)) y1 = height/2\n      else y1 = height\n    }\n    if (x1 === width/2 && y1 === height/2) { x1 = x2; y1 = y2;}\n  }\n\n  let data = [[x1, y1], [x2, y2]]\n\n  let diffY = y2 - y1\n  let diffX = x2 - x1\n  let xe = x2 \n  let ye = y2\n  let opposite = y2 < y1 && x2 > x1 || x2 < x1 && y2 > y1 ? -1 : 1\n\n  if (Math.abs(diffX) < Math.abs(diffY)) {\n    xe = x2\n    ye = y1 + diffX*opposite\n  } else {\n    ye = y2\n    xe = x1 + diffY*opposite\n  }\n  \n  if (subjectType === \"circle\" && (subjectData.outerRadius || subjectData.radius)) {\n    const r = (subjectData.outerRadius || subjectData.radius) + (subjectData.radiusPadding || 0)\n    const length = r/Math.sqrt(2)\n\n    if (Math.abs(diffX) > length && Math.abs(diffY) > length) {\n      x1 = length*(x2 < 0 ? -1 : 1)\n      y1 = length*(y2 < 0 ? -1 : 1)\n      data = [[x1, y1], [xe , ye ], [x2, y2]]\n\n    } else if (Math.abs(diffX) > Math.abs(diffY)) {\n      const angle = Math.asin(-y2/r)\n      x1 = Math.abs(Math.cos(angle)*r)*(x2 < 0 ? -1 : 1)\n      data = [[ x1, y2], [x2, y2]]\n    } else {\n      const angle = Math.acos(x2/r)\n      y1 = Math.abs(Math.sin(angle)*r)*(y2 < 0 ? -1 : 1)\n      data = [[ x2, y1], [x2, y2]]\n    }\n  } else {\n    data = [[x1, y1], [xe , ye], [x2, y2]]\n  }\n\n  return { components: [lineBuilder({ data, className: \"connector\"})]}\n}\n","import { lineBuilder } from '../Builder'\nimport { event } from 'd3-selection'\nimport { lineSetup } from './type-line'\nimport { curveCatmullRom } from 'd3-shape'\nimport { pointHandle } from '../Handles'\n\nexport default ({ type, connectorData, subjectType }) => {\n\n  if (!connectorData) { connectorData = {} }\n  if (!connectorData.points || typeof connectorData.points === \"number\") { \n    connectorData.points = createPoints(type.annotation.offset, connectorData.points) \n  }\n  if (!connectorData.curve) { connectorData.curve = curveCatmullRom }\n\n  let handles = []\n\n  if (type.editMode) {\n    const cHandles = connectorData.points\n      .map((c,i) => ({...pointHandle({cx: c[0], cy: c[1]}), index: i}))\n\n    const updatePoint = (index) => {      \n      connectorData.points[index][0] += event.dx\n      connectorData.points[index][1] += event.dy\n      type.redrawConnector()\n    }\n  \n    handles = type.mapHandles(cHandles\n      .map(h => ({ ...h.move, drag: updatePoint.bind(type, h.index)})))\n\n  }\n\n  let data = lineSetup({ type, subjectType })\n  data = [data[0], ...connectorData.points, data[1]]\n  const components = [lineBuilder({ data, curve: connectorData.curve, className: \"connector\" })]\n\n  return { components , handles }\n}\n\nconst createPoints = function ( offset, anchors=2) {\n  const diff = { x: offset.x/(anchors + 1), y: offset.y/(anchors + 1) }\n  const p = []\n\n  let i = 1 \n  for (; i <= anchors; i++) {\n    p.push([diff.x*i + i%2*20, diff.y*i - i%2*20])\n  }\n  return p\n}","import { lineBuilder } from \"../Builder\"\n\nexport default ({ annotation, start, end, scale = 1 }) => {\n  const offset = annotation.position\n  if (!start) {\n    start = [annotation.dx, annotation.dy]\n  } else {\n    start = [-end[0] + start[0], -end[1] + start[1]]\n  }\n  if (!end) {\n    end = [annotation.x - offset.x, annotation.y - offset.y]\n  }\n\n  let x1 = end[0],\n    y1 = end[1]\n\n  let dx = start[0]\n  let dy = start[1]\n\n  let size = 10 * scale\n  let angleOffset = 16 / 180 * Math.PI\n  let angle = Math.atan(dy / dx)\n\n  if (dx < 0) {\n    angle += Math.PI\n  }\n\n  const data = [\n    [x1, y1],\n    [\n      Math.cos(angle + angleOffset) * size + x1,\n      Math.sin(angle + angleOffset) * size + y1\n    ],\n    [\n      Math.cos(angle - angleOffset) * size + x1,\n      Math.sin(angle - angleOffset) * size + y1\n    ],\n    [x1, y1]\n  ]\n\n  //TODO add in reverse\n  // if (canvasContext.arrowReverse){\n  //   data = [[x1, y1],\n  //   [Math.cos(angle + angleOffset)*size, Math.sin(angle + angleOffset)*size],\n  //   [Math.cos(angle - angleOffset)*size, Math.sin(angle - angleOffset)*size],\n  //   [x1, y1]\n  //   ]\n  // } else {\n  //   data = [[x1, y1],\n  //   [Math.cos(angle + angleOffset)*size, Math.sin(angle + angleOffset)*size],\n  //   [Math.cos(angle - angleOffset)*size, Math.sin(angle - angleOffset)*size],\n  //   [x1, y1]\n  //   ]\n  // }\n\n  return {\n    components: [\n      lineBuilder({\n        data,\n        className: \"connector-end connector-arrow\",\n        classID: \"connector-end\"\n      })\n    ]\n  }\n}\n","import { arcBuilder } from \"../Builder\"\n\nexport default ({ line, scale = 1 }) => {\n  let dot = arcBuilder({\n    className: \"connector-end connector-dot\",\n    classID: \"connector-end\",\n    data: { radius: 3 * Math.sqrt(scale) }\n  })\n  dot.attrs.transform = `translate(${line.data[0][0]}, ${line.data[0][1]})`\n\n  return { components: [dot] }\n}\n","import { circleHandles } from \"../Handles\"\nimport { arcBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData, type }) => {\n  if (!subjectData.radius && !subjectData.outerRadius) {\n    subjectData.radius = 20\n  }\n\n  let handles = []\n  const c = arcBuilder({ data: subjectData, className: \"subject\" })\n  if (type.editMode) {\n    const h = circleHandles({\n      r1: c.data.outerRadius || c.data.radius,\n      r2: c.data.innerRadius,\n      padding: subjectData.radiusPadding\n    })\n\n    const updateRadius = attr => {\n      const r = subjectData[attr] + event.dx * Math.sqrt(2)\n      subjectData[attr] = r\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const cHandles = [\n      {\n        ...h.r1,\n        drag: updateRadius.bind(\n          type,\n          subjectData.outerRadius !== undefined ? \"outerRadius\" : \"radius\"\n        )\n      }\n    ]\n\n    if (subjectData.innerRadius) {\n      cHandles.push({ ...h.r2, drag: updateRadius.bind(type, \"innerRadius\") })\n    }\n    handles = type.mapHandles(cHandles)\n  }\n\n  c.attrs[\"fill-opacity\"] = 0\n\n  return { components: [c], handles }\n}\n","import { lineBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData, type }) => {\n  if (!subjectData.width) {\n    subjectData.width = 100\n  }\n  if (!subjectData.height) {\n    subjectData.height = 100\n  }\n\n  let handles = []\n  let { width, height } = subjectData\n\n  const data = [[0, 0], [width, 0], [width, height], [0, height], [0, 0]]\n  let rect = lineBuilder({ data, className: \"subject\" })\n\n  if (type.editMode) {\n    const updateWidth = () => {\n      subjectData.width = event.x\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const updateHeight = () => {\n      subjectData.height = event.y\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const rHandles = [\n      { x: width, y: height / 2, drag: updateWidth.bind(type) },\n      { x: width / 2, y: height, drag: updateHeight.bind(type) }\n    ]\n\n    handles = type.mapHandles(rHandles)\n  }\n  rect.attrs[\"fill-opacity\"] = 0.1\n  return { components: [rect], handles }\n}\n","import { lineBuilder } from '../Builder'\n\n\nexport default ({ subjectData, type }) => {\n  const offset = type.annotation.position\n\n  let x1 = (subjectData.x1 !== undefined ? subjectData.x1 : offset.x) - offset.x,\n    x2 = (subjectData.x2 !== undefined ? subjectData.x2 : offset.x) - offset.x,\n    y1 = (subjectData.y1 !== undefined ? subjectData.y1 : offset.y) - offset.y,\n    y2 = (subjectData.y2 !== undefined ? subjectData.y2 : offset.y) - offset.y\n\n  const data = [[x1, y1], [x2, y2]]\n  return { components: [lineBuilder({ data, className : 'subject'})]}\n}","import { lineBuilder, arcBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData = {}, type = {} }, annotation = {}) => {\n  const typeSettings = type.typeSettings && type.typeSettings.subject\n\n  if (!subjectData.radius) {\n    if (typeSettings && typeSettings.radius) {\n      subjectData.radius = typeSettings.radius\n    } else {\n      subjectData.radius = 14\n    }\n  }\n  if (!subjectData.x) {\n    if (typeSettings && typeSettings.x) {\n      subjectData.x = typeSettings.x\n    }\n  }\n  if (!subjectData.y) {\n    if (typeSettings && typeSettings.y) {\n      subjectData.y = typeSettings.y\n    }\n  }\n\n  let handles = []\n  const components = []\n  const radius = subjectData.radius\n  const innerRadius = radius * 0.7\n  let x = 0\n  let y = 0\n\n  const notCornerOffset = Math.sqrt(2) * radius\n  const placement = {\n    xleftcorner: -radius,\n    xrightcorner: radius,\n    ytopcorner: -radius,\n    ybottomcorner: radius,\n    xleft: -notCornerOffset,\n    xright: notCornerOffset,\n    ytop: -notCornerOffset,\n    ybottom: notCornerOffset\n  }\n\n  if (subjectData.x && !subjectData.y) {\n    x = placement[`x${subjectData.x}`]\n  } else if (subjectData.y && !subjectData.x) {\n    y = placement[`y${subjectData.y}`]\n  } else if (subjectData.x && subjectData.y) {\n    x = placement[`x${subjectData.x}corner`]\n    y = placement[`y${subjectData.y}corner`]\n  }\n\n  const transform = `translate(${x}, ${y})`\n  const circlebg = arcBuilder({ className: \"subject\", data: { radius } })\n  circlebg.attrs.transform = transform\n  circlebg.attrs.fill = annotation.color\n  circlebg.attrs[\"stroke-linecap\"] = \"round\"\n  circlebg.attrs[\"stroke-width\"] = \"3px\"\n\n  const circle = arcBuilder({\n    className: \"subject-ring\",\n    data: { outerRadius: radius, innerRadius }\n  })\n\n  circle.attrs.transform = transform\n  // circle.attrs.fill = annotation.color\n  circle.attrs[\"stroke-width\"] = \"3px\"\n  circle.attrs.fill = \"white\"\n\n  let pointer\n  if (x && y || !x && !y) {\n    pointer = lineBuilder({\n      className: \"subject-pointer\",\n      data: [[0, 0], [x || 0, 0], [0, y || 0], [0, 0]]\n    })\n  } else if (x || y) {\n    const notCornerPointerXY = (v, sign = 1) =>\n      v && v / Math.sqrt(2) / Math.sqrt(2) || sign * radius / Math.sqrt(2)\n\n    pointer = lineBuilder({\n      className: \"subject-pointer\",\n      data: [\n        [0, 0],\n        [notCornerPointerXY(x), notCornerPointerXY(y)],\n        [notCornerPointerXY(x, -1), notCornerPointerXY(y, -1)],\n        [0, 0]\n      ]\n    })\n  }\n\n  if (pointer) {\n    pointer.attrs.fill = annotation.color\n    pointer.attrs[\"stroke-linecap\"] = \"round\"\n    pointer.attrs[\"stroke-width\"] = \"3px\"\n    components.push(pointer)\n  }\n\n  if (type.editMode) {\n    const dragBadge = () => {\n      subjectData.x =\n        event.x < -radius * 2\n          ? \"left\"\n          : event.x > radius * 2 ? \"right\" : undefined\n      subjectData.y =\n        event.y < -radius * 2\n          ? \"top\"\n          : event.y > radius * 2 ? \"bottom\" : undefined\n\n      type.redrawSubject()\n    }\n\n    const bHandles = { x: x * 2, y: y * 2, drag: dragBadge.bind(type) }\n    if (!bHandles.x && !bHandles.y) {\n      bHandles.y = -radius\n    }\n\n    handles = type.mapHandles([bHandles])\n  }\n\n  let text\n  if (subjectData.text) {\n    text = {\n      type: \"text\",\n      className: \"badge-text\",\n      attrs: {\n        fill: \"white\",\n        stroke: \"none\",\n        \"font-size\": \".7em\",\n        text: subjectData.text,\n        \"text-anchor\": \"middle\",\n        dy: \".25em\",\n        x,\n        y\n      }\n    }\n  }\n\n  components.push(circlebg)\n  components.push(circle)\n  components.push(text)\n\n  return { components, handles }\n}\n","import { select, event } from \"d3-selection\"\nimport { drag } from \"d3-drag\"\nimport { addHandles } from \"./Handles\"\n\n//Note options\nimport noteAlignment from \"./Note/alignment\"\nimport noteVertical from \"./Note/lineType-vertical\"\nimport noteHorizontal from \"./Note/lineType-horizontal\"\n\n//Connector options\nimport connectorLine from \"./Connector/type-line\"\nimport connectorElbow from \"./Connector/type-elbow\"\nimport connectorCurve from \"./Connector/type-curve\"\nimport connectorArrow from \"./Connector/end-arrow\"\nimport connectorDot from \"./Connector/end-dot\"\n\n//Subject options\nimport subjectCircle from \"./Subject/circle\"\nimport subjectRect from \"./Subject/rect\"\nimport subjectThreshold from \"./Subject/threshold\"\nimport subjectBadge from \"./Subject/badge\"\n\nexport class Type {\n  constructor({ a, annotation, editMode, dispatcher, notePadding, accessors }) {\n    this.a = a\n\n    this.note =\n      annotation.disable.indexOf(\"note\") === -1 && a.select(\"g.annotation-note\")\n    this.noteContent = this.note && a.select(\"g.annotation-note-content\")\n    this.connector =\n      annotation.disable.indexOf(\"connector\") === -1 &&\n      a.select(\"g.annotation-connector\")\n    this.subject =\n      annotation.disable.indexOf(\"subject\") === -1 &&\n      a.select(\"g.annotation-subject\")\n    this.dispatcher = dispatcher\n\n    if (dispatcher) {\n      const handler = addHandlers.bind(null, dispatcher, annotation)\n      handler({ component: this.note, name: \"note\" })\n      handler({ component: this.connector, name: \"connector\" })\n      handler({ component: this.subject, name: \"subject\" })\n    }\n\n    this.annotation = annotation\n    this.editMode = annotation.editMode || editMode\n    this.notePadding = notePadding !== undefined ? notePadding : 3\n    this.offsetCornerX = 0\n    this.offsetCornerY = 0\n\n    if (accessors && annotation.data) {\n      this.init(accessors)\n    }\n  }\n\n  init(accessors) {\n    if (!this.annotation.x) {\n      this.mapX(accessors)\n    }\n    if (!this.annotation.y) {\n      this.mapY(accessors)\n    }\n  }\n\n  mapY(accessors) {\n    if (accessors.y) {\n      this.annotation.y = accessors.y(this.annotation.data)\n    }\n  }\n\n  mapX(accessors) {\n    if (accessors.x) {\n      this.annotation.x = accessors.x(this.annotation.data)\n    }\n  }\n\n  updateEditMode() {\n    this.a.selectAll(\"circle.handle\").remove()\n  }\n\n  drawOnSVG(component, builders) {\n    if (!Array.isArray(builders)) {\n      builders = [builders]\n    }\n\n    builders\n      .filter(b => b)\n      .forEach(({ type, className, attrs, handles, classID }) => {\n        if (type === \"handle\") {\n          addHandles({ group: component, r: attrs && attrs.r, handles })\n        } else {\n          newWithClass(component, [this.annotation], type, className, classID)\n          const el = component.select(`${type}.${classID || className}`)\n          const addAttrs = Object.keys(attrs)\n          const removeAttrs = []\n\n          const currentAttrs = el.node().attributes\n          for (let i = currentAttrs.length - 1; i >= 0; i--) {\n            const name = currentAttrs[i].name\n            if (addAttrs.indexOf(name) === -1 && name !== \"class\")\n              removeAttrs.push(name)\n          }\n\n          addAttrs.forEach(attr => {\n            if (attr === \"text\") {\n              el.text(attrs[attr])\n            } else {\n              el.attr(attr, attrs[attr])\n            }\n          })\n\n          removeAttrs.forEach(attr => el.attr(attr, null))\n        }\n      })\n  }\n\n  //TODO: how to extend this to a drawOnCanvas mode?\n\n  getNoteBBox() {\n    return bboxWithoutHandles(this.note, \".annotation-note-content text\")\n  }\n  getNoteBBoxOffset() {\n    const bbox = bboxWithoutHandles(this.note, \".annotation-note-content\")\n    const transform = this.noteContent.attr(\"transform\").split(/\\(|\\,|\\)/g)\n    bbox.offsetCornerX = parseFloat(transform[1]) + this.annotation.dx\n    bbox.offsetCornerY = parseFloat(transform[2]) + this.annotation.dy\n    bbox.offsetX = this.annotation.dx\n    bbox.offsetY = this.annotation.dy\n    return bbox\n  }\n\n  drawSubject(context = {}) {\n    const subjectData = this.annotation.subject\n    const type = context.type\n    const subjectParams = { type: this, subjectData }\n\n    let subject = {}\n    if (type === \"circle\") subject = subjectCircle(subjectParams)\n    else if (type === \"rect\") subject = subjectRect(subjectParams)\n    else if (type === \"threshold\") subject = subjectThreshold(subjectParams)\n    else if (type === \"badge\")\n      subject = subjectBadge(subjectParams, this.annotation)\n\n    let { components = [], handles = [] } = subject\n    components.forEach(c => {\n      if (c && c.attrs && !c.attrs.stroke) {\n        c.attrs.stroke = this.annotation.color\n      }\n    })\n\n    if (this.editMode) {\n      handles = handles.concat(\n        this.mapHandles([{ drag: this.dragSubject.bind(this) }])\n      )\n      components.push({ type: \"handle\", handles })\n    }\n\n    return components\n  }\n\n  drawConnector(context = {}) {\n    const connectorData = this.annotation.connector\n    const type = connectorData.type || context.type\n    const connectorParams = { type: this, connectorData }\n    connectorParams.subjectType =\n      this.typeSettings &&\n      this.typeSettings.subject &&\n      this.typeSettings.subject.type\n\n    let connector = {}\n    if (type === \"curve\") connector = connectorCurve(connectorParams)\n    else if (type === \"elbow\") connector = connectorElbow(connectorParams)\n    else connector = connectorLine(connectorParams)\n    let { components = [], handles = [] } = connector\n    const line = components[0]\n    //TODO: genericize this into fill t/f stroke t/f\n    if (line) {\n      line.attrs.stroke = this.annotation.color\n      line.attrs.fill = \"none\"\n    }\n    const endType = connectorData.end || context.end\n    let end = {}\n    if (endType === \"arrow\") {\n      let s = line.data[1]\n      const e = line.data[0]\n      const distance = Math.sqrt(\n        Math.pow(s[0] - e[0], 2) + Math.pow(s[1] - e[1], 2)\n      )\n      if (distance < 5 && line.data[2]) {\n        s = line.data[2]\n      }\n      end = connectorArrow({\n        annotation: this.annotation,\n        start: s,\n        end: e,\n        scale: connectorData.endScale\n      })\n    } else if (endType === \"dot\") {\n      end = connectorDot({ line, scale: connectorData.endScale })\n    } else if (!endType || endType === \"none\") {\n      this.connector && this.connector.select(\".connector-end\").remove()\n    }\n\n    if (end.components) {\n      end.components.forEach(c => {\n        c.attrs.fill = this.annotation.color\n        c.attrs.stroke = this.annotation.color\n      })\n      components = components.concat(end.components)\n    }\n\n    if (this.editMode) {\n      if (handles.length !== 0) components.push({ type: \"handle\", handles })\n    }\n    return components\n  }\n\n  drawNote(context = {}) {\n    const noteData = this.annotation.note\n    const align = noteData.align || context.align || \"dynamic\"\n    const noteParams = {\n      bbox: context.bbox,\n      align,\n      offset: this.annotation.offset\n    }\n    const lineType = noteData.lineType || context.lineType\n    let note = {}\n    if (lineType === \"vertical\") note = noteVertical(noteParams)\n    else if (lineType === \"horizontal\") note = noteHorizontal(noteParams)\n\n    let { components = [], handles = [] } = note\n    components.forEach(c => {\n      c.attrs.stroke = this.annotation.color\n    })\n\n    if (this.editMode) {\n      handles = this.mapHandles([\n        { x: 0, y: 0, drag: this.dragNote.bind(this) }\n      ])\n      components.push({ type: \"handle\", handles })\n\n      const dragging = this.dragNote.bind(this),\n        start = this.dragstarted.bind(this),\n        end = this.dragended.bind(this)\n      this.note.call(\n        drag()\n          .container(select(\"g.annotations\").node())\n          .on(\"start\", d => start(d))\n          .on(\"drag\", d => dragging(d))\n          .on(\"end\", d => end(d))\n      )\n    } else {\n      this.note.on(\"mousedown.drag\", null)\n    }\n    return components\n  }\n\n  drawNoteContent(context) {\n    const noteData = this.annotation.note\n    const padding =\n      noteData.padding !== undefined ? noteData.padding : this.notePadding\n    let orientation = noteData.orientation || context.orientation || \"topBottom\"\n    const lineType = noteData.lineType || context.lineType\n    const align = noteData.align || context.align || \"dynamic\"\n\n    if (lineType === \"vertical\") orientation = \"leftRight\"\n    else if (lineType === \"horizontal\") orientation = \"topBottom\"\n\n    const noteParams = {\n      padding,\n      bbox: context.bbox,\n      offset: this.annotation.offset,\n      orientation,\n      align\n    }\n    const { x, y } = noteAlignment(noteParams)\n    this.offsetCornerX = x + this.annotation.dx\n    this.offsetCornerY = y + this.annotation.dy\n    this.note && this.noteContent.attr(\"transform\", `translate(${x}, ${y})`)\n\n    return []\n  }\n\n  drawOnScreen(component, drawFunction) {\n    return this.drawOnSVG(component, drawFunction)\n  }\n\n  redrawSubject() {\n    this.subject && this.drawOnScreen(this.subject, this.drawSubject())\n  }\n\n  redrawConnector() {\n    this.connector && this.drawOnScreen(this.connector, this.drawConnector())\n  }\n\n  redrawNote(bbox = this.getNoteBBox()) {\n    this.noteContent &&\n      this.drawOnScreen(this.noteContent, this.drawNoteContent({ bbox }))\n    this.note && this.drawOnScreen(this.note, this.drawNote({ bbox }))\n  }\n\n  setPosition() {\n    const position = this.annotation.position\n    this.a.attr(\"transform\", `translate(${position.x}, ${position.y})`)\n  }\n\n  clearComponents() {\n    this.subject && this.subject.select(\"*\").remove()\n    this.connector && this.connector.select(\"*\").remove()\n    // this.note && this.note.select(\"*\").remove()\n  }\n\n  setOffset() {\n    if (this.note) {\n      const offset = this.annotation.offset\n      this.note.attr(\"transform\", `translate(${offset.x}, ${offset.y})`)\n    }\n  }\n\n  setPositionWithAccessors(accessors) {\n    if (accessors && this.annotation.data) {\n      this.mapX(accessors)\n      this.mapY(accessors)\n    }\n    this.setPosition()\n  }\n\n  setClassName() {\n    this.a.attr(\n      \"class\",\n      `annotation ${this.className && this.className()} ${\n        this.editMode ? \"editable\" : \"\"\n      } ${this.annotation.className || \"\"}`\n    )\n  }\n\n  draw() {\n    this.setClassName()\n    this.setPosition()\n    this.setOffset()\n    this.redrawSubject()\n    this.redrawConnector()\n    this.redrawNote()\n  }\n\n  dragstarted() {\n    event.sourceEvent.stopPropagation()\n    this.dispatcher &&\n      this.dispatcher.call(\"dragstart\", this.a, this.annotation)\n    this.a.classed(\"dragging\", true)\n    this.a.selectAll(\"circle.handle\").style(\"pointer-events\", \"none\")\n  }\n  dragended() {\n    this.dispatcher && this.dispatcher.call(\"dragend\", this.a, this.annotation)\n    this.a.classed(\"dragging\", false)\n    this.a.selectAll(\"circle.handle\").style(\"pointer-events\", \"all\")\n  }\n\n  dragSubject() {\n    const position = this.annotation.position\n    position.x += event.dx\n    position.y += event.dy\n    this.annotation.position = position\n  }\n\n  dragNote() {\n    const offset = this.annotation.offset\n    offset.x += event.dx\n    offset.y += event.dy\n    this.annotation.offset = offset\n  }\n\n  mapHandles(handles) {\n    return handles.map(h => ({\n      ...h,\n      start: this.dragstarted.bind(this),\n      end: this.dragended.bind(this)\n    }))\n  }\n}\n\nexport const customType = (initialType, typeSettings, init) => {\n  return class customType extends initialType {\n    constructor(settings) {\n      super(settings)\n      this.typeSettings = typeSettings\n\n      if (typeSettings.disable) {\n        typeSettings.disable.forEach(d => {\n          this[d] && this[d].remove()\n\n          this[d] = undefined\n          if (d === \"note\") {\n            this.noteContent = undefined\n          }\n        })\n      }\n    }\n\n    static init(annotation, accessors) {\n      super.init(annotation, accessors)\n      if (init) {\n        annotation = init(annotation, accessors)\n      }\n      return annotation\n    }\n\n    className() {\n      return `${typeSettings.className ||\n        super.className && super.className() ||\n        \"\"}`\n    }\n\n    drawSubject(context) {\n      this.typeSettings.subject = Object.assign(\n        {},\n        typeSettings.subject,\n        this.typeSettings.subject\n      )\n      return super.drawSubject({ ...context, ...this.typeSettings.subject })\n    }\n\n    drawConnector(context) {\n      this.typeSettings.connector = Object.assign(\n        {},\n        typeSettings.connector,\n        this.typeSettings.connector\n      )\n      return super.drawConnector({\n        ...context,\n        ...typeSettings.connector,\n        ...this.typeSettings.connector\n      })\n    }\n\n    drawNote(context) {\n      this.typeSettings.note = Object.assign(\n        {},\n        typeSettings.note,\n        this.typeSettings.note\n      )\n      return super.drawNote({\n        ...context,\n        ...typeSettings.note,\n        ...this.typeSettings.note\n      })\n    }\n\n    drawNoteContent(context) {\n      return super.drawNoteContent({\n        ...context,\n        ...typeSettings.note,\n        ...this.typeSettings.note\n      })\n    }\n  }\n}\n\nexport class d3NoteText extends Type {\n  constructor(params) {\n    super(params)\n    this.textWrap = params.textWrap || 120\n    this.drawText()\n  }\n\n  updateTextWrap(textWrap) {\n    this.textWrap = textWrap\n    this.drawText()\n  }\n\n  //TODO: add update text functionality\n\n  drawText() {\n    if (this.note) {\n      newWithClass(this.note, [this.annotation], \"g\", \"annotation-note-content\")\n\n      const noteContent = this.note.select(\"g.annotation-note-content\")\n      newWithClass(noteContent, [this.annotation], \"rect\", \"annotation-note-bg\")\n      newWithClass(\n        noteContent,\n        [this.annotation],\n        \"text\",\n        \"annotation-note-label\"\n      )\n      newWithClass(\n        noteContent,\n        [this.annotation],\n        \"text\",\n        \"annotation-note-title\"\n      )\n\n      let titleBBox = { height: 0 }\n      const label = this.a.select(\"text.annotation-note-label\")\n      const wrapLength =\n        this.annotation.note && this.annotation.note.wrap ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.wrap ||\n        this.textWrap\n\n      const wrapSplitter =\n        this.annotation.note && this.annotation.note.wrapSplitter ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.wrapSplitter\n\n      let bgPadding =\n        this.annotation.note && this.annotation.note.bgPadding ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.bgPadding\n\n      let bgPaddingFinal = { top: 0, bottom: 0, left: 0, right: 0 }\n      if (typeof bgPadding === \"number\") {\n        bgPaddingFinal = {\n          top: bgPadding,\n          bottom: bgPadding,\n          left: bgPadding,\n          right: bgPadding\n        }\n      } else if (bgPadding && typeof bgPadding === \"object\") {\n        bgPaddingFinal = Object.assign(bgPaddingFinal, bgPadding)\n      }\n\n      if (this.annotation.note.title) {\n        const title = this.a.select(\"text.annotation-note-title\")\n        title.text(this.annotation.note.title)\n        title.attr(\"fill\", this.annotation.color)\n        title.attr(\"font-weight\", \"bold\")\n        title.call(wrap, wrapLength, wrapSplitter)\n        titleBBox = title.node().getBBox()\n      }\n\n      label.text(this.annotation.note.label).attr(\"dx\", \"0\")\n      label.call(wrap, wrapLength, wrapSplitter)\n\n      label.attr(\"y\", titleBBox.height * 1.1 || 0)\n      label.attr(\"fill\", this.annotation.color)\n\n      const bbox = this.getNoteBBox()\n\n      this.a\n        .select(\"rect.annotation-note-bg\")\n        .attr(\"width\", bbox.width + bgPaddingFinal.left + bgPaddingFinal.right)\n        .attr(\n          \"height\",\n          bbox.height + bgPaddingFinal.top + bgPaddingFinal.bottom\n        )\n        .attr(\"x\", bbox.x - bgPaddingFinal.left)\n        .attr(\"y\", -bgPaddingFinal.top)\n        .attr(\"fill\", \"white\")\n        .attr(\"fill-opacity\", 0)\n    }\n  }\n}\n\nexport const d3Label = customType(d3NoteText, {\n  className: \"label\",\n  note: { align: \"middle\" }\n})\n\nexport const d3Callout = customType(d3NoteText, {\n  className: \"callout\",\n  note: { lineType: \"horizontal\" }\n})\n\nexport const d3CalloutElbow = customType(d3Callout, {\n  className: \"callout elbow\",\n  connector: { type: \"elbow\" }\n})\n\nexport const d3CalloutCurve = customType(d3Callout, {\n  className: \"callout curve\",\n  connector: { type: \"curve\" }\n})\n\nexport const d3Badge = customType(Type, {\n  className: \"badge\",\n  subject: { type: \"badge\" },\n  disable: [\"connector\", \"note\"]\n})\n\nexport const d3CalloutCircle = customType(d3NoteText, {\n  className: \"callout circle\",\n  subject: { type: \"circle\" },\n  note: { lineType: \"horizontal\" },\n  connector: { type: \"elbow\" }\n})\n\nexport const d3CalloutRect = customType(d3NoteText, {\n  className: \"callout rect\",\n  subject: { type: \"rect\" },\n  note: { lineType: \"horizontal\" },\n  connector: { type: \"elbow\" }\n})\n\nclass ThresholdMap extends d3Callout {\n  mapY(accessors) {\n    super.mapY(accessors)\n    const a = this.annotation\n    if ((a.subject.x1 || a.subject.x2) && a.data && accessors.y) {\n      a.y = accessors.y(a.data)\n    }\n    if ((a.subject.x1 || a.subject.x2) && !a.x) {\n      a.x = a.subject.x1 || a.subject.x2\n    }\n  }\n\n  mapX(accessors) {\n    super.mapX(accessors)\n    const a = this.annotation\n    if ((a.subject.y1 || a.subject.y2) && a.data && accessors.x) {\n      a.x = accessors.x(a.data)\n    }\n    if ((a.subject.y1 || a.subject.y2) && !a.y) {\n      a.y = a.subject.y1 || a.subject.y2\n    }\n  }\n}\n\nexport const d3XYThreshold = customType(ThresholdMap, {\n  className: \"callout xythreshold\",\n  subject: { type: \"threshold\" }\n})\n\nexport const newWithClass = (a, d, type, className, classID) => {\n  const group = a.selectAll(`${type}.${classID || className}`).data(d)\n  group\n    .enter()\n    .append(type)\n    .merge(group)\n    .attr(\"class\", className)\n\n  group.exit().remove()\n  return a\n}\n\nconst addHandlers = (dispatcher, annotation, { component, name }) => {\n  if (component) {\n    component\n      .on(\"mouseover.annotations\", () => {\n        dispatcher.call(`${name}over`, component, annotation)\n      })\n      .on(\"mouseout.annotations\", () =>\n        dispatcher.call(`${name}out`, component, annotation)\n      )\n      .on(\"click.annotations\", () =>\n        dispatcher.call(`${name}click`, component, annotation)\n      )\n  }\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst wrap = (text, width, wrapSplitter, lineHeight = 1.2) => {\n  text.each(function() {\n    const text = select(this),\n      words = text\n        .text()\n        .split(wrapSplitter || /[ \\t\\r\\n]+/)\n        .reverse()\n        .filter(w => w !== \"\")\n    let word,\n      line = [],\n      tspan = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"dy\", 0.8 + \"em\")\n\n    while (word = words.pop()) {\n      line.push(word)\n      tspan.text(line.join(\" \"))\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop()\n        tspan.text(line.join(\" \"))\n        line = [word]\n        tspan = text\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + \"em\")\n          .text(word)\n      }\n    }\n  })\n}\n\nconst bboxWithoutHandles = (selection, selector = \":not(.handle)\") => {\n  if (!selection) {\n    return { x: 0, y: 0, width: 0, height: 0 }\n  }\n\n  return selection\n    .selectAll(selector)\n    .nodes()\n    .reduce(\n      (p, c) => {\n        const bbox = c.getBBox()\n        p.x = Math.min(p.x, bbox.x)\n        p.y = Math.min(p.y, bbox.y)\n        p.width = Math.max(p.width, bbox.width)\n\n        const yOffset = c && c.attributes && c.attributes.y\n        p.height = Math.max(\n          p.height,\n          (yOffset && parseFloat(yOffset.value) || 0) + bbox.height\n        )\n        return p\n      },\n      { x: 0, y: 0, width: 0, height: 0 }\n    )\n}\n\nexport default {\n  Type,\n  d3Label,\n  d3Callout,\n  d3CalloutElbow,\n  d3CalloutCurve,\n  d3CalloutCircle,\n  d3CalloutRect,\n  d3XYThreshold,\n  d3Badge,\n  customType\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import Annotation from \"./Annotation\"\nimport AnnotationCollection from \"./AnnotationCollection\"\nimport { newWithClass, d3Callout } from \"./Types-d3\"\nimport { select } from \"d3-selection\"\nimport { dispatch } from \"d3-dispatch\"\n\nexport default function annotation() {\n  let annotations = [],\n    collection,\n    context, //TODO: add canvas functionality\n    disable = [],\n    accessors = {},\n    accessorsInverse = {},\n    editMode = false,\n    ids,\n    type = d3Callout,\n    textWrap,\n    notePadding,\n    annotationDispatcher = dispatch(\n      \"subjectover\",\n      \"subjectout\",\n      \"subjectclick\",\n      \"connectorover\",\n      \"connectorout\",\n      \"connectorclick\",\n      \"noteover\",\n      \"noteout\",\n      \"noteclick\",\n      \"dragend\",\n      \"dragstart\"\n    ),\n    sel\n\n  const annotation = function(selection) {\n    sel = selection\n    //TODO: check to see if this is still needed\n    if (!editMode) {\n      selection.selectAll(\"circle.handle\").remove()\n    }\n\n    const translatedAnnotations = annotations.map(a => {\n      if (!a.type) {\n        a.type = type\n      }\n      if (!a.disable) {\n        a.disable = disable\n      }\n      return new Annotation(a)\n    })\n\n    collection =\n      collection ||\n      new AnnotationCollection({\n        annotations: translatedAnnotations,\n        accessors,\n        accessorsInverse,\n        ids\n      })\n\n    const annotationG = selection.selectAll(\"g\").data([collection])\n    annotationG.enter().append(\"g\").attr(\"class\", `annotations`)\n\n    const group = selection.select(\"g.annotations\")\n    newWithClass(group, collection.annotations, \"g\", \"annotation\")\n\n    const annotation = group.selectAll(\"g.annotation\")\n\n    annotation.each(function(d) {\n      const a = select(this)\n\n      a.attr(\"class\", \"annotation\")\n\n      newWithClass(a, [d], \"g\", \"annotation-connector\")\n      newWithClass(a, [d], \"g\", \"annotation-subject\")\n      newWithClass(a, [d], \"g\", \"annotation-note\")\n      newWithClass(\n        a.select(\"g.annotation-note\"),\n        [d],\n        \"g\",\n        \"annotation-note-content\"\n      )\n      d.type =\n        d.type.toString() === \"[object Object]\"\n          ? d.type\n          : new d.type({\n            a,\n            annotation: d,\n            textWrap,\n            notePadding,\n            editMode,\n            dispatcher: annotationDispatcher,\n            accessors\n          })\n      d.type.draw()\n      d.type.drawText && d.type.drawText()\n    })\n  }\n\n  annotation.json = function() {\n    /* eslint-disable no-console */\n    console.log(\n      \"Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.\",\n      collection.json\n    )\n    /* eslint-enable no-console */\n    window.copy(\n      JSON.stringify(\n        collection.json.map(a => {\n          delete a.type\n          return a\n        })\n      )\n    )\n    return annotation\n  }\n\n  annotation.update = function() {\n    if (annotations && collection) {\n      annotations = collection.annotations.map(a => {\n        a.type.draw()\n        return a\n      })\n    }\n    return annotation\n  }\n\n  annotation.updateText = function() {\n    if (collection) {\n      collection.updateText(textWrap)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.updatedAccessors = function() {\n    collection.setPositionWithAccessors()\n    annotations = collection.annotations\n    return annotation\n  }\n\n  annotation.disable = function(_) {\n    if (!arguments.length) return disable\n    disable = _\n    if (collection) {\n      collection.updateDisable(disable)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.textWrap = function(_) {\n    if (!arguments.length) return textWrap\n    textWrap = _\n    if (collection) {\n      collection.updateTextWrap(textWrap)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.notePadding = function(_) {\n    if (!arguments.length) return notePadding\n    notePadding = _\n    if (collection) {\n      collection.updateNotePadding(notePadding)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n  //todo think of how to handle when undefined is sent\n  annotation.type = function(_, settings) {\n    if (!arguments.length) return type\n    type = _\n    if (collection) {\n      collection.annotations.map(a => {\n        a.type.note &&\n          a.type.note.selectAll(\"*:not(.annotation-note-content)\").remove()\n        a.type.noteContent && a.type.noteContent.selectAll(\"*\").remove()\n        a.type.subject && a.type.subject.selectAll(\"*\").remove()\n        a.type.connector && a.type.connector.selectAll(\"*\").remove()\n        a.type.typeSettings = {}\n        a.type = type\n\n        a.subject = settings && settings.subject || a.subject\n        a.connector = settings && settings.connector || a.connector\n        a.note = settings && settings.note || a.note\n      })\n\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.annotations = function(_) {\n    if (!arguments.length)\n      return collection && collection.annotations || annotations\n    annotations = _\n\n    if (collection && collection.annotations) {\n      const rerun = annotations.some(\n        d => !d.type || d.type.toString() !== \"[object Object]\"\n      )\n\n      if (rerun) {\n        collection = null\n        annotation(sel)\n      } else {\n        collection.annotations = annotations\n      }\n    }\n    return annotation\n  }\n\n  annotation.context = function(_) {\n    if (!arguments.length) return context\n    context = _\n    return annotation\n  }\n\n  annotation.accessors = function(_) {\n    if (!arguments.length) return accessors\n    accessors = _\n    return annotation\n  }\n\n  annotation.accessorsInverse = function(_) {\n    if (!arguments.length) return accessorsInverse\n    accessorsInverse = _\n    return annotation\n  }\n\n  annotation.ids = function(_) {\n    if (!arguments.length) return ids\n    ids = _\n    return annotation\n  }\n\n  annotation.editMode = function(_) {\n    if (!arguments.length) return editMode\n    editMode = _\n\n    if (sel) {\n      sel.selectAll(\"g.annotation\").classed(\"editable\", editMode)\n    }\n\n    if (collection) {\n      collection.editMode(editMode)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.collection = function(_) {\n    if (!arguments.length) return collection\n    collection = _\n    return annotation\n  }\n\n  annotation.on = function() {\n    const value = annotationDispatcher.on.apply(annotationDispatcher, arguments)\n    return value === annotationDispatcher ? annotation : value\n  }\n\n  return annotation\n}\n","import annotation from './src/Adapter-d3'\nimport { Type, d3Label, d3Callout, d3CalloutCurve, d3CalloutElbow, d3CalloutCircle, \n d3CalloutRect, d3XYThreshold, d3Badge, customType } from './src/Types-d3'\n\nexport {\n  annotation,\n  Type as annotationTypeBase ,\n  d3Label as annotationLabel ,\n  d3Callout as annotationCallout ,\n  d3CalloutCurve as annotationCalloutCurve ,\n  d3CalloutElbow as annotationCalloutElbow ,\n  d3CalloutCircle as annotationCalloutCircle ,\n  d3CalloutRect as annotationCalloutRect ,\n  d3XYThreshold as annotationXYThreshold ,\n  d3Badge as annotationBadge ,\n  customType as annotationCustomType \n}\n\nexport default {\n  annotation,\n  annotationTypeBase : Type,\n  annotationLabel : d3Label,\n  annotationCallout : d3Callout,\n  annotationCalloutCurve : d3CalloutCurve,\n  annotationCalloutElbow : d3CalloutElbow,\n  annotationCalloutCircle : d3CalloutCircle,\n  annotationCalloutRect : d3CalloutRect,\n  annotationXYThreshold : d3XYThreshold,\n  annotationBadge : d3Badge,\n  annotationCustomType : customType\n}"],"names":["Annotation","x","y","nx","ny","dy","dx","color","data","type","subject","connector","note","disable","id","className","_dx","undefined","_dy","_x","_y","_color","_className","_type","setPosition","selectAll","nodes","length","redrawSubject","clearComponents","setOffset","redrawConnector","redrawNote","setClassName","updatePosition","updateOffset","json","Object","keys","AnnotationCollection","annotations","accessors","accessorsInverse","newSettings","forEach","d","setPositionWithAccessors","editMode","a","updateEditMode","remove","textWrap","updateTextWrap","drawText","notePadding","map","k","getNoteBBoxOffset","positionX","positionY","xhtml","name","prefix","i","indexOf","slice","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","call","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","group","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","trim","split","t","onRemove","typename","on","__on","j","m","o","removeEventListener","capture","onAdd","value","wrap","addEventListener","push","n","arguments","node","each","none","querySelector","select","groups","_groups","subgroups","Array","subgroup","subnode","Selection","_parents","empty","querySelectorAll","selectorAll","parents","match","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","prototype","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","size","bind","constant","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","merge","nextSibling","parentNode","compare","ascending","compareNode","b","sortgroups","sortgroup","sort","order","NaN","callback","apply","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","getComputedStyle","getPropertyValue","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","join","splice","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","appendChild","lower","previousSibling","firstChild","create","creator","constantNull","before","removeChild","property","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","noop","dispatch","_","Error","Dispatch","types","T","get","set","copy","that","args","c","concat","onenter","onupdate","onexit","append","styleValue","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","customEvent","sourceEvent","selection_join","selection_clone","current","source","svg","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","changedTouches","touches","identifier","touch","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","DragEvent","target","active","defaultFilter","button","defaultContainer","defaultSubject","filter","container","gestures","listeners","mousemoving","touchending","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","mousemoved","mouseupped","clearTimeout","setTimeout","p","s","sublisteners","p0","pointHandle","cx","cy","move","circleHandles","r1","r2","padding","h","sqrt","addHandles","handles","r","attr","start","end","leftRightDynamic","align","topBottomDynamic","orientationTopBottom","orientationLeftRight","bbox","width","height","orientation","offset","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","x1","y1","x2","y2","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","a0","a1","ccw","cos","sin","cw","da","w","halfPi","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","asin","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","max","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","context","arc","buffer","r0","moveTo","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p1","oc","ax","ay","bx","by","kc","lc","atan2","lineTo","closePath","centroid","Linear","_context","_line","_point","pointX","pointY","defined","curve","curveLinear","output","line","defined0","lineStart","lineEnd","bezierCurveTo","_k","_x2","_y2","Cardinal","tension","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","custom","catmullRom","sign","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","lineBuilder","canvasContext","classID","lineGen","builder","pathMethods","attrs","arcBuilder","arcShape","radius","components","lineSetup","subjectType","annotation","position","subjectData","angle","radiusPadding","connectorData","diffY","diffX","xe","ye","opposite","points","createPoints","curveCatmullRom","cHandles","updatePoint","mapHandles","anchors","diff","scale","angleOffset","atan","dot","transform","updateRadius","updateWidth","updateHeight","rHandles","typeSettings","notCornerOffset","placement","circlebg","fill","circle","pointer","notCornerPointerXY","dragBadge","bHandles","text","Type","dispatcher","noteContent","handler","addHandlers","component","offsetCornerX","offsetCornerY","init","mapX","mapY","builders","isArray","el","addAttrs","removeAttrs","currentAttrs","attributes","bboxWithoutHandles","parseFloat","offsetX","offsetY","subjectParams","subjectCircle","subjectRect","subjectThreshold","subjectBadge","stroke","dragSubject","connectorParams","connectorCurve","connectorElbow","connectorLine","endType","e","distance","connectorArrow","endScale","connectorDot","noteData","noteParams","lineType","noteVertical","noteHorizontal","dragNote","dragging","dragstarted","dragended","noteAlignment","drawFunction","drawOnSVG","drawOnScreen","drawSubject","drawConnector","getNoteBBox","drawNoteContent","drawNote","stopPropagation","classed","customType","initialType","settings","babelHelpers.get","babelHelpers.extends","d3NoteText","titleBBox","label","wrapLength","wrapSplitter","bgPadding","bgPaddingFinal","bottom","right","title","getBBox","d3Label","d3Callout","d3CalloutElbow","d3CalloutCurve","d3Badge","d3CalloutCircle","d3CalloutRect","ThresholdMap","d3XYThreshold","newWithClass","lineHeight","words","reverse","word","tspan","pop","getComputedTextLength","reduce","yOffset","collection","ids","annotationDispatcher","sel","translatedAnnotations","annotationG","toString","draw","log","JSON","stringify","updateText","updatedAccessors","updateDisable","updateNotePadding","rerun","some"],"mappings":"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"}